<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <head>
    </head>
    <body>
        <h:form id="consultaH">
            <!-- Consulta de semana-->
                <p:layout style="min-width:800px;min-height:720px;">
                <p:layoutUnit position="west" resizable="true" size="200" minSize="80" maxSize="800">
                    <p:outputLabel  value="Semana (1 a 16): "/>
                    <p:inputText value="#{beanHorario.semana}" />

                    <br></br>
                    <br></br>

                <p:commandButton value = "Consultar" actionListener="#{beanHorario.consultarH}" update = ":consultaH:horarios"></p:commandButton>

                </p:layoutUnit>
                    
                <!-- Información de Laboratorios-->
                <p:layoutUnit position="center" >
                        <p:ring id="basic" value="#{ringView.cars}" var="car">
                            <p:outputPanel style="text-align: center;" layout="block">
                                #{car.brand}
                                <br />
                                <p:commandButton update=":form:carDetail" icon="ui-icon-search" title="View" oncomplete="PF('carDialog').show();">
                                    <f:setPropertyActionListener value="#{car}" target="#{ringView.selectedCar}" />
                                </p:commandButton>
                            </p:outputPanel>
                        </p:ring>
                </p:layoutUnit>
                
                <!-- Formato para reservar laboratorio-->
                <p:layoutUnit position="south" resizable="true" size="200" minSize="80" maxSize="800">
                    <p:dataTable id="horarios" var="hor" value="#{beanHorario.reservas}">
                        <f:facet name="Horarios disponibles en la fecha consultada">
                            Horarios disponibles en la fecha consultada
                        </f:facet>
                        <p:column headerText="Semana">
                            <h:outputText value="#{hor.semana}" />
                        </p:column>
                        <p:column headerText="Hora">
                            <h:outputText value="#{hor.bloque}" />
                        </p:column>
                        <p:column headerText="Lunes">
                            <h:outputText value="#{hor.lunes}" />
                        </p:column>
                        <p:column headerText="Martes">
                            <h:outputText value="#{hor.martes}" />
                        </p:column>
                        <p:column headerText="Miercoles">
                            <h:outputText value="#{hor.mier}" />
                        </p:column>
                        <p:column headerText="Jueves">
                            <h:outputText value="#{hor.jueves}" />
                        </p:column>
                        <p:column headerText="Viernes">
                            <h:outputText value="#{hor.viernes}" />
                        </p:column>
                        <p:column headerText="Sábado">
                            <h:outputText value="#{hor.sabado}" />
                        </p:column>
                        <p:column style="width:32px;text-align: center">
                             <p:commandButton update=":form:carDetail" oncomplete="PF('carDialog').show()" icon="ui-icon-search" title="View">
                                <f:setPropertyActionListener value="#{car}" target="#{dtSelectionView.selectedCar}" />
                            </p:commandButton>
                        </p:column>
                    </p:dataTable>
                </p:layoutUnit>
            </p:layout>
                

        </h:form>
    </body>
</html>
