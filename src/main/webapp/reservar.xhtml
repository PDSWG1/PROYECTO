<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Realizar los horarios de Reserva</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <h:form id="reserva">

            <p:layout style="min-width:800px;min-height:720px;">

                <!-- Semana a buscar -->
                <p:layoutUnit position="west" resizable = "true" size="480" minSize="80" maxSize="500">
                   
                    <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                        <p:outputLabel for="sem" value="Semanas universitarias:" />
                        <p:selectOneMenu id="sem" value="#{beanReserva.semana}" style="width:170px">
                            <f:selectItem itemLabel="Seleccione una: " itemValue="" />
                            <f:selectItem itemLabel="1" itemValue="1" />
                            <f:selectItem itemLabel="2" itemValue="2" />
                            <f:selectItem itemLabel="3" itemValue="3" />
                            <f:selectItem itemLabel="4" itemValue="4" />
                            <f:selectItem itemLabel="5" itemValue="5" />
                            <f:selectItem itemLabel="6" itemValue="6" />
                            <f:selectItem itemLabel="7" itemValue="7" />
                            <f:selectItem itemLabel="8" itemValue="8" />
                            <f:selectItem itemLabel="9" itemValue="9" />
                            <f:selectItem itemLabel="10" itemValue="10" />
                            <f:selectItem itemLabel="11" itemValue="11" />
                            <f:selectItem itemLabel="12" itemValue="12" />
                            <f:selectItem itemLabel="13" itemValue="13" />
                            <f:selectItem itemLabel="14" itemValue="14" />
                            <f:selectItem itemLabel="15" itemValue="15" />
                            <f:selectItem itemLabel="16" itemValue="16" />
                        </p:selectOneMenu>
                    </h:panelGrid>
                    
                    <p:commandButton value="Confirmar Semana" actionListener="#{beanReserva.setSemana(sem)}" styleClass="ui-priority-primary" />
                    
                    <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                        <p:outputLabel for="lab" value="Laboratorios:" />
                        <p:selectOneMenu id="lab" value="#{beanReserva.laboratorios}" style="width:170px">
                            <f:selectItem itemLabel="Seleccione una: " itemValue="" />
                            <f:selectItem itemLabel="Plataformas Computacionales" itemValue="Plataformas Computacionales" />
                            <f:selectItem itemLabel="Sala Inteligente" itemValue="Sala Inteligente" />
                            <f:selectItem itemLabel="Moviles y Multimedia" itemValue="Moviles y Multimedia" />
                            <f:selectItem itemLabel="Redes de Computadoras" itemValue="Redes de Computadoras" />
                            <f:selectItem itemLabel="Laboratorio de Software" itemValue="Laboratorio de Software" />
                        </p:selectOneMenu>
                    </h:panelGrid>
                    
                    <p:commandButton value="Confirmar Laboratorio" actionListener="#{beanReserva.setSelectedLaboratorio(lab)}" styleClass="ui-priority-primary" />
                </p:layoutUnit>
            
                <!-- Selección del laboratorio deseado y su información -->
                <p:layoutUnit position="center">
                   
                    <h:outputText value="Información sobre los laboratorios:" />
                    
                    <br></br>
                    
                    <p:ring id="basic" value="#{beanReserva.laboratorios}" var="lab">
                            <p:outputPanel style="text-align: center;" layout="block">
                             #{lab.nombreLab}
                            <br />
                            <p:commandButton update=":reserva:infoLabs" icon="ui-icon-search" title="View" oncomplete="PF('LabsInfo').show();">
                                <f:setPropertyActionListener value="#{lab}" target="#{beanReserva.selectedLaboratorio}" />
                            </p:commandButton>
                            </p:outputPanel>
                    </p:ring>
                    
                    <!--<p:ring id="basic" value="#{beanReserva.laboratorios}" var="lab">
                        <p:outputPanel style="text-align: center;" layout="block">
                         #{lab.nombreLab}
                        <br />
                        <p:commandButton update=":reserva:infoLabs" icon="ui-icon-search" title="View" oncomplete="PF('LabsInfo').show();">
                            <f:setPropertyActionListener value="#{lab}" target="#{beanReserva.selectedLaboratorio}" />
                        </p:commandButton>
                        </p:outputPanel>
                    </p:ring> -->
                       

                </p:layoutUnit>
            
                <!--Tabla con reservas con información-->
                <p:layoutUnit position="south" resizable = "true"  size="360" minSize="80" maxSize="400" style="height:25px;">
                    Aqui van las reservas
                    <p:dataTable id="horarios" var="res" value="#{beanReserva.laboratorios}">
                        <f:facet name="Horarios disponibles para reservar en la fecha consultada">
                            Horarios disponibles en la fecha consultada
                        </f:facet>
                        <p:column headerText="Bloque">
                            <h:outputText value="#{res.nombreLab}" />
                        </p:column>

                        <p:column headerText="Laboratorios">
                            <p:dataTable
                                value="#{beanReserva.laboratorios}"
                                var="f">
                                <p:column>#{f.nombreLab}</p:column>
                            </p:dataTable>
                        </p:column>
                        
                        <p:column headerText="Lunes">
                            <h:outputText value="#{res.encargado}" />
                        </p:column>
                        
                        <p:column headerText="Martes">
                            <h:outputText value="#{res.encargado}" />
                        </p:column>
                        
                        <p:column headerText="Miercoles">
                            <h:outputText value="#{res.encargado}" />
                        </p:column>
                        
                        <p:column headerText="Jueves">
                            <h:outputText value="#{res.encargado}" />
                        </p:column>
                        
                        <p:column headerText="Viernes">
                            <h:outputText value="#{res.encargado}" />
                        </p:column>
                        
                        <p:column headerText="Sabado">
                            <h:outputText value="#{res.encargado}" />
                        </p:column>
                        
                    </p:dataTable>
                </p:layoutUnit>
               
            </p:layout>
            
            <p:dialog header="Informacion de Laboratorio Elegido" widgetVar="LabsInfo" modal="true" showEffect="fade" hideEffect="fade" resizable="true" width = "500">
                        <p:outputPanel id="infoLabs" style="text-align:center;" layout="block">
                            <p:panelGrid  columns="2" rendered="#{not empty beanReserva.selectedLaboratorio}" columnClasses="label,value">
                                <f:facet name="header">
                                    <p:graphicImage library="images" name="Laboratorio de Software-big.jpg" width="350" height="250"/> 
                                </f:facet>

                                <h:outputText value="Nombre de Laboratorio:" />
                                <h:outputText value="#{beanReserva.selectedLaboratorio.nombreLab}" />

                                <h:outputText value="Número de computadores" />
                                <h:outputText value="#{beanReserva.selectedLaboratorio.numerocomputadores}" />

                                <h:outputText value="Encargado de la sala:" />
                                <h:outputText value="#{beanReserva.selectedLaboratorio.encargado}" />

                                <h:outputText value="Programas en la sala: " />
                                <h:outputText value="#{beanReserva.selectedLaboratorio.labsoftware}" />
                            </p:panelGrid>
                        </p:outputPanel>
            </p:dialog> 
            <!--Cuadro de dialogo con información
            <p:dialog header="Informacion de Laboratorio Elegido" widgetVar="LabsInfo" modal="true" showEffect="fade" hideEffect="fade" resizable="true" width = "500">
                        <p:outputPanel id="infoLabs" style="text-align:center;" layout="block">
                            <p:panelGrid  columns="2" rendered="#{not empty beanReserva.selectedLaboratorio}" columnClasses="label,value">
                                <f:facet name="header">
                                    <p:graphicImage library="images" name="#{beanReserva.selectedLaboratorio.nombreLab}-big.jpg" width="350" height="250"/> 
                                </f:facet>

                                <h:outputText value="Nombre de Laboratorio:" />
                                <h:outputText value="#{beanReserva.selectedLaboratorio.nombreLab}" />

                                <h:outputText value="Número de computadores" />
                                <h:outputText value="#{beanReserva.selectedLaboratorio.numerocomputadores}" />

                                <h:outputText value="Encargado de la sala:" />
                                <h:outputText value="#{beanReserva.selectedLaboratorio.encargado}" />

                                <h:outputText value="Programas en la sala: " />
                                <h:outputText value="#{beanReserva.selectedLaboratorio.labsoftware}" />
                            </p:panelGrid>
                        </p:outputPanel>
                    </p:dialog> -->
        </h:form>
    </h:body>
</html>